{% extends "layout.html" %}

{% block title %}
    Test
{% endblock %}

{% block main %}
    <script>
    $(document).ready(function() {
        startTime = Date.now();

        $("#test_submit").click(function() {
            endTime = Date.now();
            seconds = (endTime - startTime) / 1000;

            avgTime = seconds / {{ numbers }};
        });
    });
    </script>

    <h1 class="display-1">Test</h1>
    <br>
    <form>
        <div class="mb-2">
            <table style="margin:auto" id="table">
                <thead>
                    <tr>
                        <th colspan="6" style="border-bottom: 3px solid black">Problem</th>
                        <th colspan="1" id="answer_header" style="display:none; border-bottom: 3px solid black; border-left: 3px solid black"">Answer</th>
                    </tr>
                </thead>
                <tbody>
                    {% for number in range(numbers) %}
                        <tr>
                            <td>{{ number + 1 }} ) &nbsp</td>
                            <td id="one">{{ range(min, (max + 1)) | random }}</td>
                            <td> {{ decision }} </td>
                            <td id="two">{{ range(min, (max + 1)) | random }}</td>
                            <td>=</td>
                            <td><input autocomplete="off" class="form-control mx-auto" id="client_answer" placeholder="Answer" type="number"></td>
                            <td style="display:none; border-left: 3px solid black" id="answer"></td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>

            &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

            <table style="display:none" id="table_1">
                <thead>
                    <tr>
                        <th style="border-bottom: 3px solid black" colspan="2">Results</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="border-right: 3px solid black">Number correct  &nbsp</td>
                        <td id="number_correct"></td>
                    </tr>
                    <tr>
                        <td style="border-right: 3px solid black">Percent correct  &nbsp</td>
                        <td id="percent_correct"></td>
                    </tr>
                    <tr>
                        <td style="border-right: 3px solid black">Time taken &nbsp</td>
                        <td id="time_taken"></td>
                    </tr>
                    <tr>
                        <td style="border-right: 3px solid black">Average time taken &nbsp</td>
                        <td id="avg_time_taken"></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="mb-2">
<<<<<<< HEAD
            <button class="btn btn-primary" type="button" onclick="check_test('{{ decision }}')">Submit</button>        </div>
            <button class="btn btn-primary" id="test_submit" type="button" onclick="check_test('{{ decision }}', '{{ numbers }}')">Submit</button>
=======
            <button class="btn btn-primary" id="test_submit" type="button" onclick="check_test('{{ decision }}', '{{ numbers }}', seconds, avgTime)">Submit</button>
>>>>>>> 643a422bcf003b01a7796327f3d51d22c5fc1962
        </div>
    </form>
{% endblock %}